<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Set</title>
  </head>
  <body>
    <script>
      class Set {
        constructor() {
          this.items = {};
        }

        has(value) {
          return this.items.hasOwnProperty(value);
        }

        add(value) {
          if (!this.has(value)) {
            this.items[value] = value;
            return true;
          }
          return false;
        }

        remove(value) {
          if (this.has(value)) {
            delete this.items[value];
            return true
          }
          return false;
        }

        get size() {
          return Object.keys(this.items).length;
        }

        get values() {
          return Object.keys(this.items);
        }

            //并集
        union(otherSet) {
            let unionSet = new Set()
            this.values.forEach(value => unionSet.add(this.items[value]))
            otherSet.values.forEach(value => unionSet.add(otherSet.items[value]))
            return unionSet
        }

        intersection(otherSet) {
            let intersectionSet = new Set()
            this.values.forEach(value => 
            {
                if (otherSet.has(value)) {
                    intersectionSet.add(value)
                }
            })
            return intersectionSet
        }

      }

    const set = new Set()
    set.add(1)
    console.log(set.values)  // ["1"] 
    console.log(set.has(1))  // true 
    console.log(set.size) // 1 
    set.add(2) 
    console.log(set.values)  // ["1", "2"] 
    console.log(set.has(2))  // true 
    console.log(set.size) // 2 

    const otherSet = new Set()
    otherSet.add(10)
    otherSet.add(2)
    otherSet.add(30)

    const unionSet = set.union(otherSet)
    console.log(unionSet.values)

    const intersectionSet = set.intersection(otherSet)
    console.log(intersectionSet.values)
    
    </script>
  </body>
</html>
