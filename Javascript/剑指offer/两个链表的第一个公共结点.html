<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <h3>输入两个链表，找出它们的第一个公共结点。
    </h3>
    <script>
        function ListNode(x) {
            this.val = x;
            this.next = null;
        }

        function FindFirstCommonNode(pHead1, pHead2) {
            let p1 = pHead1
            let p2 = pHead2

            let length1=0,length2 = 0;
            
            while (p1 !== null) {
                p1 = p1.next
                length1++
            }

            while (p2 !== null) {
                p2 = p2.next
                length2++
            }

            if (length1 < length2) {
                let temp = pHead1
                pHead1 = pHead2
                pHead2 = temp
            }

            let distance = Math.abs(length1 - length2)

            while (distance>0) {
                pHead1 = pHead1.next
                distance--
            }

            while (pHead1 != null) {
                if (pHead1.val === pHead2.val) {
                  return pHead1  
                }
                pHead1 = pHead1.next
                pHead2 = pHead2.next
            }

            return pHead1
        }

        let node1 = new ListNode(3)
        let node2 = new ListNode(4)
        let node3 = new ListNode(5)
        let node4 = new ListNode(1)
        
        node1.next = node2
        node2.next = node3
        node4.next = node3

        console.log(FindFirstCommonNode(node1,node4))

    </script>
</body>

</html>